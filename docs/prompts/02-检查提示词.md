# 任务 02: 检查架构提示词

## 任务描述
验证生成的架构提示词文档是否符合设计文档要求。此任务确保提示词在代码生成前准确反映所有规范。

## 前置条件
- 任务 01 成功完成
- `DataCharts-架构提示词.md` 文件存在
- 数据可视化设计文档可用于比较
- 理解设计文档结构

## 任务目标
1. 验证提示词中的目录结构规范
2. 根据设计文档验证数据结构
3. 根据设计文档验证接口设计
4. 识别不一致和缺失元素
5. 生成验证报告

## 详细步骤

### 步骤 1: 目录结构验证
```bash
# 检查提示词是否指定了正确的目录结构
grep -n "目录\|结构\|DataCharts" DataCharts-架构提示词.md
```

验证：
- 正确的模块命名约定（DataCharts-模块名）
- 适当的代码目录放置
- 必需的文件结构规范

### 步骤 2: 数据结构一致性检查
将提示词数据结构与设计文档比较：

#### 验证清单：
- [ ] **成员名称**: 所有结构成员名称与设计文档完全匹配
- [ ] **数据类型**: 所有成员数据类型与设计文档完全匹配  
- [ ] **结构完整性**: 设计文档中没有遗漏的结构
- [ ] **无增加**: 没有超出设计文档的额外结构
- [ ] **无删减**: 没有从设计文档中删除的结构

#### 需要交叉引用的文档部分：
- 设计文档 X.X 节：图表数据结构
- 设计文档 X.X 节：配置结构  
- 设计文档 X.X 节：状态结构
- 设计文档 X.X 节：错误处理结构
- 设计文档 X.X 节：矩阵数据结构

### 步骤 3: 接口设计一致性检查
将提示词接口定义与设计文档比较：

#### 验证清单：
- [ ] **函数名称**: 所有接口函数名称与设计文档完全匹配
- [ ] **输入参数**: 所有函数输入参数与设计文档完全匹配
- [ ] **返回值**: 所有函数返回值与设计文档完全匹配
- [ ] **接口完整性**: 设计文档中没有遗漏的接口
- [ ] **无增加**: 没有超出设计文档的额外接口
- [ ] **无删减**: 没有从设计文档中删除的接口

#### 需要交叉引用的文档部分：
- 设计文档 X.X 节：数据导入接口
- 设计文档 X.X 节：函数处理接口
- 设计文档 X.X 节：图表生成接口
- 设计文档 X.X 节：状态查询接口

### 步骤 4: 技术要求验证
验证提示词包含所有必需的技术规范：
- [ ] Vue 3 + TypeScript 已指定
- [ ] Python FastAPI 已指定
- [ ] PyQt6 已指定
- [ ] NumPy, Pandas 已指定
- [ ] 图表库（PyQt-Charts, Chart.js/ECharts）已指定
- [ ] SymPy 函数解析已指定
- [ ] 文档注释要求已指定
- [ ] 使用示例要求已指定

### 步骤 5: 生成验证报告
创建综合验证报告：

```markdown
# 数据可视化架构提示词验证报告

## 目录结构检查
**状态**: [通过/失败]
**问题**: [列出发现的任何问题]

## 数据结构一致性
**状态**: [通过/失败]
**设计文档参考**: [部分参考]
**发现的不一致性**:
- [列出成员名称的任何不匹配]
- [列出数据类型的任何不匹配]
- [列出任何缺失的结构]
- [列出任何额外的结构]

## 接口设计一致性
**状态**: [通过/失败]
**设计文档参考**: [部分参考]
**发现的不一致性**:
- [列出函数名称的任何不匹配]
- [列出参数的任何不匹配]
- [列出返回值的任何不匹配]
- [列出任何缺失的接口]
- [列出任何额外的接口]

## 技术要求检查
**状态**: [通过/失败]
**缺失要求**: [列出任何缺失的技术要求]

## 整体评估
**提示词质量**: [通过/失败]
**建议**: [任何改进建议]
```

## 成功标准
- [ ] 目录结构验证完成
- [ ] 数据结构一致性已根据设计文档验证
- [ ] 接口设计一致性已根据设计文档验证
- [ ] 所有不一致性已识别并记录
- [ ] 验证报告已生成并保存到 `DataCharts-检查提示词.md`
- [ ] 每个验证区域的明确通过/失败状态已确定

## 输出文件
- `DataCharts-检查提示词.md`: 完整验证报告

## 触发机制
此任务可通过以下方式触发：
1. 手动执行：人工审查提示词与设计文档的对比
2. 脚本执行：`./task-runner.sh 02`
3. AI辅助：使用AI系统性地比较提示词与设计文档

## 下一任务
- 如果验证**通过**：继续执行 **03-生成代码.md**
- 如果验证**失败**：返回 **01-生成架构提示词.md** 进行提示词修订

## 注意事项
- 最终验证批准需要人工干预
- 专注于精确匹配 - 不允许增加或删除
- 引用特定设计文档部分以确保可追溯性
- 此任务不涉及代码生成，仅验证